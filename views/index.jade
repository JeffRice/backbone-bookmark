extends layout
block styles
  link(rel='stylesheet', href='/stylesheets/board.css')
  link(rel='stylesheet', href='/stylesheets/footable.core.css')
  link(rel='stylesheet', href='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css')

block header
    .heading
        h1.mainheading
          | Backbone Bookmark Port
        h2.subheader
          | Backbone.js demo with authentication
block content
    #app
      br
      .form-box
        if (typeof username!="undefined")
            input#new-post-title(type="text", placeholder="Title")
            br
            input#new-post-category(type="text", placeholder="Category")
            br
            textarea#new-post-body(type="text", placeholder="Body")
            button.submit(href="javascript:null;")
              | Submit
        else
          .login-prompt
            a(href="/login")
              | Login to Post!
        br
        br
      section#main
        div#list

block bodyscripts
  script
    | username="#{username}"
  include tabletest.html
  script#item-template(type="text/template")
    |  <td><%= title %><input class="title-edit" placeholder"Title"></input></td>    
    |  <td><%= category %><input class="category-edit" placeholder"Category"></td>
    |  <td><%= body %><textarea class="body-edit" placeholder"Body"></textarea></td>
    |  <% if (myPost == true) { %>
    |  <td><a class="edit" href="#" class="destroy">&#9998;</a><button href="javascript:null;"class="submit-update">Update</button></td>
    |  <td><a class="destroy" href="#" class="destroy">&#10006;</a></td>
    |  <% } %>
    |  <span class="username" >- <%= user.username %></span>
    |  <span class="timestamp" >| <%= timeAgo %></span>
  include test2.html
  script(type="text/javascript", src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js")
  script(type="text/javascript", src="javascripts/board.js")
  script(type="text/javascript", src="javascripts/vendor/footable.js")
  script(type="text/javascript", src="javascripts/vendor/footable.sort.js")
  script(type="text/javascript", src="javascripts/vendor/footable.paginate.js")
  script(type="text/javascript", src="javascripts/vendor/footable.filter.js")
  include function.html
block footer



